<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title></title>
        <script type='text/javascript'>
            function progressIndicator(data) {
                if (data.status === "begin") {
                    document.getElementById("progressDivId").style.display = "block";
                }
                if (data.status === "complete") {
                    document.getElementById("progressDivId").style.display = "none";
                }
            }
        </script>                
    </h:head>
    <h:body>        
        <hr/>
        AJAX with progress indicator
        <hr/>
        <h:panelGrid columns="2">
            <h:form>
                <h:inputText id="nameInputId" value="#{ajaxBean.name}"/>
                <h:commandButton value="Send" action="#{ajaxBean.ajaxAction()}">
                    <f:ajax onevent="progressIndicator" execute ="nameInputId" render="nameOutputId"/>
                </h:commandButton>
                <h:outputText id="nameOutputId" value="#{ajaxBean.name}"/>
            </h:form> 
            <div id="progressDivId" style="display:none;">
                <img src="resources/default/imgs/ajax.gif"/>
            </div>
        </h:panelGrid>
    </h:body>
</html>

